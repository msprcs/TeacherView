<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Teacher Home</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css"/>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.5/index.global.min.css" />
  <link rel="stylesheet" href="teacher_home.css" />
</head>
<body class="bg-blue-100 font-sans">
  <div class="layout-container flex min-h-screen">

    <!-- Sidebar -->
    <aside id="sidebar" class="sidebar sidebar-gradient text-white flex flex-col justify-between">
      <div>
        <div class="flex flex-col items-center mb-8 mt-3">
          <div class="w-20 h-20 rounded-2xl bg-white/30 flex items-center justify-center mb-3 sidebar-avatar">
            <img src="/teacher_portal/teacher_portal/imag/logo.png" alt="Avatar" class="w-18 h-18 rounded-2xl object-cover" />
          </div>
          <h2 class="text-lg font-bold tracking-wide text-white text-center mb-1">EASTERN PANGASINAN CHRISTIAN LEARNING CENTER,INC.<br><span class="text-xs font-normal">Teacher Portal</span></h2>
        </div>
        <nav>
          <ul class="mt-6">
            <li class="sidebar-menu sidebar-active" id="home-tab"><span>Home</span></li>
            <li class="sidebar-menu" id="class-tab"><span>Class</span></li>
            <li class="sidebar-menu" id="class-record-tab"><span>Class Record</span></li>
            <li class="sidebar-menu" id="announcement-tab"><span>Announcement</span></li>
          </ul>
        </nav>
      </div>
      <div class="mb-2 px-3">
        <button id="logout-btn" class="sidebar-logout w-full py-2">Log out</button>
      </div>
    </aside>

    <!-- Main Content Area -->
    <main id="main-content" class="flex-1 flex flex-col items-center justify-center p-8">
      <div class="main-grid w-full max-w-6xl">
        <!-- Welcome -->
        <section id="welcome-section" class="welcome-section border-4 border-blue-300 bg-blue-50 rounded-3xl mb-6 p-8 flex flex-col items-center shadow-xl col-span-2">
          <h1 class="text-5xl font-bold text-blue-700 mb-2">WELCOME</h1>
        </section>
        <!-- Announcement -->
        <section id="announcement-box" class="announcement-box border-4 border-blue-300 bg-white/90 rounded-2xl py-8 px-4 flex flex-col shadow-xl mb-3 w-full mx-auto" style="max-width: 850px;">
          <div class="text-2xl font-bold text-blue-700 mb-3 text-center">Announcement</div>
          <div id="announcement-content" class="flex-1 flex flex-col justify-center gap-1"></div>
        </section>
        <!-- Calendar -->
        <section id="calendar-box" class="border-4 border-blue-300 bg-white/90 rounded-2xl p-6 shadow-lg">
          <div class="text-xl font-bold text-blue-700 mb-2 border-b border-blue-200 pb-1 text-center uppercase">Calendar</div>
          <div id="calendar" class="w-full"></div>
        </section>
        <!-- QR Scan -->
        <section id="qr-box" class="border-4 border-blue-300 bg-white/90 rounded-2xl p-6 shadow-lg mb-6 flex flex-col items-center">
          <div class="text-xl font-bold text-blue-700 mb-2 border-b border-blue-200 pb-1 text-center uppercase w-full">Scan QR</div>
          <div id="qr-reader-section" class="w-full flex flex-col items-center">
            <button id="start-qr-btn" class="px-4 py-2 bg-blue-600 text-white rounded-lg font-bold hover:bg-blue-700 mb-4">Start QR Scan</button>
            <div id="qr-reader" style="width: 220px; min-height: 180px;" class="hidden"></div>
            <div id="qr-result" class="mt-4 text-green-700 font-bold"></div>
          </div>
        </section>
        <!-- Badge (now under QR box) -->
        <section id="badge-box" class="border-4 border-blue-300 bg-white/90 rounded-2xl p-6 flex flex-col items-center shadow-lg">
          <div class="text-xl font-bold text-blue-700 mb-2 border-b border-blue-200 pb-1 text-center uppercase w-full">Badge</div>
          <div id="badge-stars" class="flex items-center gap-4 pt-2 w-full justify-center"></div>
        </section>
      </div>
    </main>
  </div>

  <!-- Lightbox Modal for Images (hidden by default) -->
  <div id="img-lightbox-modal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 hidden">
    <span id="img-lightbox-close" class="absolute top-6 right-10 text-white text-4xl cursor-pointer">&times;</span>
    <img id="img-lightbox-img" class="max-h-[90vh] max-w-[90vw] rounded-xl shadow-2xl border-8 border-white" src="" alt="Announcement Full Image" />
  </div>

  <script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.5/index.global.min.js"></script>
  <script src="https://unpkg.com/html5-qrcode"></script>
  <script src="teacher_home.js"></script>
</body>
</html>